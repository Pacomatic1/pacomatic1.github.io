<!DOCTYPE html>
<html>
    <head>
        <title>Bye-bye bandwidth!</title>
        <script src="../shared.js"> </script>
        <style>
            @import url('7_scrollbar.css');
            @import url('https://fonts.googleapis.com/css2?family=Cal+Sans&display=swap');
            @font-face {
                font-family: "Segoe UI";
                src:
                    local("Segoe UI"),
                    url("./assets/segoe-ui/segoeuithis.ttf") format("truetype")
            }

            :root {
                color:#ffffff;
                size: 12pt;
                text-shadow: 1px 1px 3px #000000;
                font-family: 'Segoe UI';
                
            }

            body {
                margin: 0px;
                padding: 0px;
                background-color: #403239;
            }

            #megaContainer {
                

            }
            .basicText {
                text-align: center;
            }




            #startingText {
            }




            #sitesILikeBanner {
                width:100%;
                text-align: center;
                color: #ffffff;
                font: 30pt 'Cal Sans', 'sans-serif';  /* Other stuff within is styled in em, so change the font and you change the image too */
                /* Centering */
                display: flex;
                flex-flow: right nowrap;
                align-items: center;
                justify-content: center;
            }
            #sitesILikeBanner p {
                margin: 0px;
                padding: 0px;
            }
            #sitesILikeBanner div {
                height: 100%;
                /* Centering */
                display: flex;
                /* Width is intentionally unspecified; leave that to the image. */
                margin-inline: .2em;
            }
            #sitesILikeBanner div img {
                width: 2em;
                height: auto;
            }




            #featuredSitesContainer {
                padding: .2rem;
                background-color: #34292e;
                text-align: center;
            }

            .featuredSite {
                min-width: auto;
                height: 6em;
                padding: .2em;
            }


        </style>
    </head>
    <body class="has-scrollbar">
        <div id="megaContainer">
            <div id="sitesILikeBanner"> 
                <p>Sites I like</p>
                <div>
                    <img src="./assets/mc-compass/mc-compass-animated.png">
                </div>
            </div>

            <div id="startingText" class="basicText">
                <p>
                    The web is full of unique and wonderful websites, and I gotta shout 'em out. Come on, it's only fair.
                </p>
            </div>

            <div id="featuredSitesContainer">
                <!-- The contents of this container are generated in Javascript. See featuredSitesLookupTable. -->
            </div>

            <div id="allSitesContainer" class="basicText">
                <p>
                    Next up: The 88x31 archive! Normally I'd just put it here, but I've seen other sites and can conclude that, if this gets too big, your bandwidth, framerate, and battery life will <b>tank.</b> As such, you gotta press a button to load them. Expect stuttering, freezing, and MAYBE crashing.<br>
                </p>
            </div>
        </div>
        <!-- Layout:
            - "Hey! This WILL consume your bandwidth" 
            - Add my 88x31 button! PS. Make sure to set scaling to nearest by default (in the provided code)
            - Webcomics I like (Sabrina Online, Loading Artist, XKCD, Exocomics, Nyazche)
            - 88x31 archive (this is probably gonna be huge. MAKE IT COME LAST!)
        -->

        <script>
            var featuredSitesLookupTable = [
                // I seem to be addicted to lookup tables. This one is... actually VERY different from the parent page tables, assuming they were never refactored not to use arrays.

                // Each item is a JS object. Within, there are the following properties:
                // image: This is a RELATIVE PATH to the image you seek.
                // unoptimizedImage: If the image is an optimized version, then put down the unoptimized version. This is currently unused, but I would like to make 'Open Image in New Tab' link to the unoptimiized version. Maybe. That's a feature for later. In the event the thing you already have is optimized, don't put anything here.
                // resultingLink: Where should you go when you click on the image?
                // altText: Used for screen reader and when the image doesn't load. DO NOT ADD FLAVOR TEXT, see titleText.
                // titleText: This is the tooltip of every image. Add all the flavor text you want. 
                {
                    image: "./assets/sites/extraordinary_comics.jpg",
                    resultingLink: "https://exocomics.com",
                    alt: "ExoComics",
                    titleText:"'Extraordinary' Comics. Short and sweet, kind of like a snack."
                },
                {
                    image: "./assets/sites/sabrina_online.webp",
                    unoptimizedImage: "assets/sites/unoptimized/sabrina_online.png",
                    resultingLink: "https://www.sabrina-online.com",
                    alt: "Sabrina Online.",
                    titleText: "Sabrina Online. It's freaky but right (or left? i don't know) hand to God it's not exclusively for one-handed reading."
                },
                {
                    image: "./assets/sites/theloadingartist.png",
                    resultingLink: "https://loadingartist.com/",
                    alt: "The Loading Artist.",
                    titleText: "The Loading Artist. Spam that random button and you'll be fed for years."
                },
            ];

            loadFeaturedSites(featuredSitesLookupTable, document.getElementById('featuredSitesContainer'));


            // This is an optimization.
            var imageTags = document.querySelectorAll('img');
            for (let i = 0; i < imageTags.length; i++) {
                var tagToMod = imageTags[i]; 
                // They only load when they're on-screen, and they don't lag you when they decode (since there's a million of 'em)
                tagToMod.loading = "lazy";
                tagToMod.decoding = "async";
            }




            function loadFeaturedSites(lookupTable, placeToPutStuff) { // placeToPutStuff uses innerHTML and modifies the tag directly. Just thought I'd mention that.
                // See featuredSitesLookupTable for documentation on how this stypiud format works. You're gonna need it if you want to understand this. 

                for (var i = 0; i < lookupTable.length; i++) {
                    var containerAnchor = document.createElement('a');
                    var imageTag = document.createElement('img');
                    imageTag.classList.add("featuredSite");
                    
                    imageTag.src = lookupTable[i].image;
                    // unoptimizedImage is unused. But this is a reminder that it exists in case you need it sometime ;)
                    imageTag.alt = lookupTable[i].alt;
                    
                    containerAnchor.title = lookupTable[i].titleText;
                    containerAnchor.href = lookupTable[i].resultingLink;
                    containerAnchor.target = "_blank";
                    
                    // We have to put the image inside an anchor tag because images can't lead to links. Oh well, it's less of a hacky workaround and more of 'an established precedent' that was established before I was born. What the hell man??? 
                    containerAnchor.appendChild(imageTag);
                    placeToPutStuff.appendChild(containerAnchor);
                }
            }



        </script>
    </body>
</html>